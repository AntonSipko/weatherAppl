{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pavel\\\\Documents\\\\Programming\\\\React-CW\\\\react-project\\\\src\\\\components\\\\Timer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport timeZones from \"../time-zones\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Timer = _ref => {\n  _s();\n  let {\n    cityCountry\n  } = _ref;\n  const styles = {\n    backgroundColor: \"lightblue\",\n    fontSize: \"2em\"\n  };\n  const [time, setTime] = useState(new Date());\n  const timeZone = useRef();\n  function tic() {\n    setTime(new Date());\n  }\n  useEffect(() => {\n    timeZone.current = getTimeZone();\n  }, [cityCountry]);\n  useEffect(() => {\n    const interval = setInterval(tic, 2000);\n    console.log(\"useEffect\");\n    return () => clearInterval(interval);\n  }, []);\n  function getTimeZone() {\n    const index = timeZones.findIndex(tz => JSON.stringify(tz).includes(cityCountry));\n    console.log(\"getTimeZone\");\n    return index < 0 ? undefined : timeZones[index].name;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Current Time in \", cityCountry]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: styles,\n      children: time.toLocaleTimeString(undefined, {\n        timeZone: timeZone.current\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 12\n  }, this);\n};\n_s(Timer, \"P2Bp5o/a7s67gju5SAvIVC7qQxs=\");\n_c = Timer;\nvar _c;\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","timeZones","jsxDEV","_jsxDEV","Timer","_ref","_s","cityCountry","styles","backgroundColor","fontSize","time","setTime","Date","timeZone","tic","current","getTimeZone","interval","setInterval","console","log","clearInterval","index","findIndex","tz","JSON","stringify","includes","undefined","name","children","fileName","_jsxFileName","lineNumber","columnNumber","style","toLocaleTimeString","_c","$RefreshReg$"],"sources":["C:/Users/Pavel/Documents/Programming/React-CW/react-project/src/components/Timer.tsx"],"sourcesContent":["import React, {useState, useEffect, useRef} from \"react\";\r\nimport timeZones from \"../time-zones\";\r\ntype Props = {\r\n    cityCountry:string;\r\n}\r\nexport const Timer:React.FC<Props> = ({cityCountry}) => {\r\nconst styles: React.CSSProperties = {backgroundColor:\"lightblue\",\r\nfontSize: \"2em\"};\r\n\r\nconst [time, setTime] = useState<Date>(new Date());\r\nconst timeZone = useRef<string|undefined>();\r\nfunction tic() {\r\n    setTime(new Date());\r\n    \r\n}\r\nuseEffect(\r\n () => {\r\n    timeZone.current = getTimeZone();\r\n }, [cityCountry]\r\n)\r\n\r\nuseEffect(() => {\r\n    const interval = setInterval(tic, 2000);\r\n    console.log(\"useEffect\");\r\n    return () => clearInterval(interval);\r\n}, [])\r\nfunction getTimeZone(): string | undefined{\r\n    const index = timeZones.findIndex(tz => JSON.stringify(tz).includes(cityCountry));\r\n    console.log(\"getTimeZone\")\r\n    return index < 0 ? undefined : timeZones[index].name\r\n} \r\n    return <div>\r\n        <h2 >Current Time in {cityCountry}</h2>\r\n        <p style={styles}>{time.toLocaleTimeString(undefined,\r\n             {timeZone: timeZone.current})}</p>\r\n    </div>\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAO,OAAO;AACxD,OAAOC,SAAS,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAItC,OAAO,MAAMC,KAAqB,GAAGC,IAAA,IAAmB;EAAAC,EAAA;EAAA,IAAlB;IAACC;EAAW,CAAC,GAAAF,IAAA;EACnD,MAAMG,MAA2B,GAAG;IAACC,eAAe,EAAC,WAAW;IAChEC,QAAQ,EAAE;EAAK,CAAC;EAEhB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAO,IAAIe,IAAI,EAAE,CAAC;EAClD,MAAMC,QAAQ,GAAGd,MAAM,EAAoB;EAC3C,SAASe,GAAGA,CAAA,EAAG;IACXH,OAAO,CAAC,IAAIC,IAAI,EAAE,CAAC;EAEvB;EACAd,SAAS,CACR,MAAM;IACHe,QAAQ,CAACE,OAAO,GAAGC,WAAW,EAAE;EACnC,CAAC,EAAE,CAACV,WAAW,CAAC,CAChB;EAEDR,SAAS,CAAC,MAAM;IACZ,MAAMmB,QAAQ,GAAGC,WAAW,CAACJ,GAAG,EAAE,IAAI,CAAC;IACvCK,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IACxB,OAAO,MAAMC,aAAa,CAACJ,QAAQ,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;EACN,SAASD,WAAWA,CAAA,EAAsB;IACtC,MAAMM,KAAK,GAAGtB,SAAS,CAACuB,SAAS,CAACC,EAAE,IAAIC,IAAI,CAACC,SAAS,CAACF,EAAE,CAAC,CAACG,QAAQ,CAACrB,WAAW,CAAC,CAAC;IACjFa,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAC1B,OAAOE,KAAK,GAAG,CAAC,GAAGM,SAAS,GAAG5B,SAAS,CAACsB,KAAK,CAAC,CAACO,IAAI;EACxD;EACI,oBAAO3B,OAAA;IAAA4B,QAAA,gBACH5B,OAAA;MAAA4B,QAAA,GAAK,kBAAgB,EAACxB,WAAW;IAAA;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM,eACvChC,OAAA;MAAGiC,KAAK,EAAE5B,MAAO;MAAAuB,QAAA,EAAEpB,IAAI,CAAC0B,kBAAkB,CAACR,SAAS,EAC/C;QAACf,QAAQ,EAAEA,QAAQ,CAACE;MAAO,CAAC;IAAC;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACrC;AACV,CAAC;AAAA7B,EAAA,CA/BYF,KAAqB;AAAAkC,EAAA,GAArBlC,KAAqB;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}